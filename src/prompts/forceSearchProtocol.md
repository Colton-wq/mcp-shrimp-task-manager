# Force Search Protocol - MCP工具集成指导

## 概述

Force Search Protocol是一个强制搜索机制，确保AI助手在遇到不确定或不熟悉的技术概念时，必须使用MCP搜索工具获取最新、准确的信息，而不是依赖预训练知识。

## 触发条件

### 🚨 强制触发场景

1. **技术不确定性**
   - 遇到不熟悉的技术栈、框架或库
   - 需要了解最新的API变化或版本差异
   - 对技术的最佳实践不确定

2. **实现方案选择**
   - 需要对比多种技术方案
   - 寻找特定问题的解决方案
   - 评估技术的优缺点和适用场景

3. **错误和问题解决**
   - 遇到特定的错误信息或异常
   - 需要调试复杂的技术问题
   - 寻找性能优化方案

4. **最新信息需求**
   - 需要2024-2025年的最新技术信息
   - 检查技术的当前状态和发展趋势
   - 验证技术的兼容性和支持情况

## MCP工具选择策略

### EXA MCP - 深度技术研究
**适用场景：**
- 需要深入的技术分析和对比
- 寻找权威的技术文档和教程
- 研究技术的架构和设计原理

**搜索模式：**
```
"[技术名称] + architecture + best practices + 2024"
"[技术名称] + vs [替代技术] + comparison + pros cons"
"[技术名称] + implementation + real world examples"
"[错误信息] + solution + troubleshooting"
```

### Tavily Remote MCP - 快速信息验证
**适用场景：**
- 快速验证技术信息的准确性
- 获取最新的版本信息和更新
- 查找简洁的解决方案和代码示例

**搜索模式：**
```
"[技术名称] + latest version + 2024 + changelog"
"[具体问题] + quick solution + code example"
"[技术名称] + getting started + tutorial + 2024"
```

## 搜索质量标准

### 🎯 高质量搜索的特征

1. **具体性**
   - 包含具体的技术名称和版本
   - 明确的问题描述和上下文
   - 具体的使用场景和需求

2. **时效性**
   - 明确要求2024-2025年的信息
   - 关注最新的版本和更新
   - 避免过时的信息和废弃的方法

3. **多源验证**
   - 对比多个搜索结果
   - 验证信息的一致性
   - 查找官方文档和权威来源

4. **实用性**
   - 寻找可操作的解决方案
   - 关注实际的代码示例
   - 考虑实施的复杂度和风险

## 搜索结果评估

### ✅ 可信度评估标准

1. **来源权威性**
   - 官方文档和API参考
   - 知名技术博客和平台
   - 开源项目的官方仓库

2. **信息新鲜度**
   - 发布时间在2024-2025年
   - 内容反映最新的技术状态
   - 包含最新版本的信息

3. **内容完整性**
   - 提供完整的解决方案
   - 包含必要的上下文和背景
   - 有清晰的实施步骤

4. **社区验证**
   - 有其他开发者的验证和反馈
   - 在技术社区中被广泛讨论
   - 有实际的使用案例和经验分享

## 集成到模板的最佳实践

### 📋 模板集成模式

1. **条件触发**
```markdown
**如果对以下任何内容不确定，使用Force Search Protocol：**
- 技术栈的最新最佳实践
- 特定错误的解决方案
- 性能优化的具体方法
- 安全实施的标准做法
```

2. **搜索指导**
```markdown
**Force Search Protocol执行步骤：**
1. 使用EXA MCP搜索: "[技术] + [问题] + best practices + 2024"
2. 使用Tavily MCP验证: "[技术] + latest + official documentation"
3. 对比多个来源，确保信息一致性
4. 记录搜索结果和信息来源
```

3. **结果整合**
```markdown
**搜索结果整合要求：**
- 明确标注信息来源和时间
- 对比不同方案的优缺点
- 提供具体的实施建议
- 标注任何不确定或需要进一步验证的信息
```

## 常见搜索场景示例

### 🔍 技术选型研究
```
场景: 选择前端框架
搜索: "React vs Vue vs Angular 2024 comparison performance"
验证: "React 18 features 2024" + "Vue 3 composition API best practices"
```

### 🔍 错误解决
```
场景: 解决特定错误
搜索: "[完整错误信息] + solution + troubleshooting"
验证: "[技术栈] + [错误类型] + common causes + fixes"
```

### 🔍 性能优化
```
场景: 数据库查询优化
搜索: "[数据库类型] + query optimization + best practices + 2024"
验证: "[具体优化技术] + implementation + real world examples"
```

### 🔍 安全实施
```
场景: 实施身份验证
搜索: "[技术栈] + authentication + security + best practices + 2024"
验证: "[认证方法] + implementation + security considerations"
```

## 质量控制检查点

### 🎯 搜索完成后的验证

1. **信息完整性检查**
   - [ ] 获得了足够的技术细节
   - [ ] 理解了实施的复杂度和风险
   - [ ] 找到了具体的代码示例或指导
   - [ ] 确认了技术的当前状态和支持情况

2. **多源验证检查**
   - [ ] 对比了至少2-3个不同来源
   - [ ] 验证了信息的一致性
   - [ ] 检查了官方文档或权威来源
   - [ ] 确认了信息的时效性

3. **实用性检查**
   - [ ] 解决方案是可操作的
   - [ ] 适合当前的技术环境和约束
   - [ ] 考虑了实施的成本和复杂度
   - [ ] 有明确的下一步行动计划

## 模板集成示例

### 在planTask模板中的集成
```markdown
**Force Search Protocol触发检查：**
- 是否涉及不熟悉的技术或框架？
- 是否需要最新的最佳实践指导？
- 是否存在多种技术方案需要对比？

如果答案是"是"，立即使用EXA MCP或Tavily MCP进行研究。
```

### 在analyzeTask模板中的集成
```markdown
**技术可行性分析前的强制搜索：**
1. 搜索相关技术的最新状态和最佳实践
2. 验证技术方案的可行性和风险
3. 查找类似项目的实施经验和教训
4. 确认技术的兼容性和支持情况
```

通过Force Search Protocol的系统性集成，确保AI助手始终基于最新、准确的信息进行技术决策和建议。