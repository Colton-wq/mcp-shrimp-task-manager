# AI 调用路径指南

## 概述
根据任务复杂度和需求选择最优的工具调用序列。此指南帮助 AI 代理为不同场景选择最高效的路径。

## 路径选择标准

### 🚀 快速路径（简单任务）
**何时使用：**
- 单一、明确定义的任务
- 需求清晰无歧义
- 无复杂依赖关系
- 实施方法直接明了

**推荐序列：**
1. `execute_task` → 直接完成任务

**示例：**
- 修复已知解决方案的特定错误
- 更新文档
- 简单配置更改
- 添加基础验证

### 📋 标准路径（中等任务）
**何时使用：**
- 需要规划的多步骤任务
- 有一定技术复杂性
- 中等程度依赖关系
- 需要结构化方法

**推荐序列：**
1. `plan_task` → 建立清晰计划
2. `execute_task` → 实施解决方案

**示例：**
- 实现包含多个组件的新功能
- 重构现有代码
- 添加新的 API 端点
- 数据库架构更改

### 🔬 深度路径（复杂任务）
**何时使用：**
- 高复杂度或不确定性
- 多重技术挑战
- 重大架构影响
- 需要彻底分析

**推荐序列：**
1. `plan_task` → 初步规划和范围定义
2. `analyze_task` → 深度技术分析
3. `reflect_task` → 质量审查和优化
4. `split_tasks` → 分解为可管理的子任务
5. `execute_task` → 实施单个任务

**示例：**
- 重大架构更改
- 新系统集成
- 性能优化项目
- 安全实施

## 复杂度指标

### 低复杂度信号
- 描述 < 500 字符
- 0-1 个依赖
- 单文件修改
- 已知模式

### 中等复杂度信号
- 描述 500-1000 字符
- 2-4 个依赖
- 多文件修改
- 需要一些研究

### 高复杂度信号
- 描述 > 1000 字符
- 5+ 个依赖
- 跨系统更改
- 需要大量研究

## 环境变量控制
设置 `MCP_ENABLE_SMART_ROUTING=true` 以在工具响应中启用智能路径建议。

## 最佳实践
1. **从简单开始**：有疑问时，先尝试快速路径
2. **逐步升级**：如需要，转向更复杂的路径
3. **考虑上下文**：考虑项目复杂性和团队经验
4. **监控结果**：跟踪不同路径的成功率