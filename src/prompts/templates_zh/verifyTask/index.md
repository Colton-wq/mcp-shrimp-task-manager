**請嚴格遵守以下指導**

## 任務完成確認

任務 "{name}" (ID: `{id}`) 已於成功標記為完成。

## 任務摘要要求

請提供此次完成任務的摘要總結，包含以下關鍵要點：

1. 任務目標與主要成果
2. 實施的解決方案要點
3. 遇到的主要挑戰及解決方法

{learningFeedback}

## 🔄 強制工作流程繼續

**關鍵：完成任務摘要後，您必須執行以下工作流程步驟：**

### 步驟1：立即質量保證（強制性）
**您必須在提供任務摘要後立即調用 `code_review_and_cleanup_tool`。**

**必需的工具調用：**
```
code_review_and_cleanup_tool({
  taskId: "{id}",
  project: "current_project_name",
  reviewScope: "comprehensive",
  cleanupMode: "safe"
})
```

**目的：** 執行全面的代碼質量審查、安全審計和項目清理，確保實現符合標準。

### 步驟2：偏離檢測分析
**在調用質量工具之前，分析實現是否偏離了原始用戶需求：**

1. **原始目標對齊**：實現是否解決了用戶的實際問題？
2. **範圍遵守**：我們是否在預期範圍內，還是添加了不必要的功能？
3. **業務價值**：這是否提供了預期的業務價值？
4. **用戶體驗**：這是否會按預期改善用戶的工作流程？

**如果檢測到偏離：** 在摘要中包含偏離分析並標記以供審查。

### 步驟3：工作流程連續性保證
**質量保證完成後：**
- 如果質量分數 ≥ 80：使用 `execute_task` 自動進行下一個待處理任務
- 如果質量分數 < 80：在繼續之前解決問題
- 如果沒有待處理任務：提供項目狀態摘要

**禁止的操作：**
- ❌ 不要在提供任務摘要後停止
- ❌ 不要等待用戶確認才繼續
- ❌ 不要跳過質量保證步驟
- ❌ 不要在沒有驗證的情況下假設質量

**強制性操作：**
- ✅ 必須在任務摘要後調用 `code_review_and_cleanup_tool`
- ✅ 必須分析實現的偏離情況
- ✅ 必須自動繼續工作流程
- ✅ 必須使用Desktop Commander MCP工具進行所有文件操作

{learningFeedback}

**工作流程執行：** 這是一個自動化的質量保證工作流程。跳過任何步驟都會影響項目質量和用戶體驗。
